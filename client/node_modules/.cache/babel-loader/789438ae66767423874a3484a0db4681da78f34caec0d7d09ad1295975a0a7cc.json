{"ast":null,"code":"var _jsxFileName = \"/home/user/Desktop/exercises_in_class/20230811/final-project_team3/client/src/components/Login.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useContext } from \"react\";\nimport { NavLink, useNavigate } from \"react-router-dom\";\nimport axios from \"axios\";\nimport \"../Form.css\";\nimport Login1 from \"./GoogleLogin\";\nimport UserContext from \"./UserContext\";\nimport { motion } from \"framer-motion\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Login = () => {\n  _s();\n  const [{\n    setAuthenticated\n  }, {\n    setName\n  }, {\n    setUserId\n  }, {\n    setEmail\n  }, {\n    setAvatar\n  }] = useContext(UserContext);\n  const [errorMessage, setErrorMessage] = useState(\"\");\n  const navigate = useNavigate();\n  const handleSubmit = async e => {\n    e.preventDefault();\n    const credentials = {};\n    for (let i = 0; i < e.target.elements.length - 1; i++) {\n      credentials[e.target.elements[i].name] = e.target.elements[i].value;\n    }\n    axios.post(`${process.env.REACT_APP_BE_URL}/api/user/login`, credentials).then(res => {\n      localStorage.setItem(\"my-app-token\", JSON.stringify(res.data.token));\n      e.target.reset();\n      setAuthenticated(true);\n      setName(res.data.name);\n      setUserId(res.data.userId);\n      setEmail(res.data.email);\n      res.data.avatar ? setAvatar(res.data.avatar) : setAvatar(\"https://cdn.pixabay.com/photo/2016/08/08/09/17/avatar-1577909_1280.png\");\n      navigate(\"/home\");\n    }).catch(err => {\n      setErrorMessage(err.response.data);\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"form-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(motion.img, {\n        className: \"logo\",\n        animate: {\n          scale: [1, 1, 1, 1, 1],\n          rotate: [0, 0, 180, 180, 0]\n        },\n        transition: {\n          duration: 2,\n          ease: \"easeInOut\",\n          times: [0, 0.2, 0.5, 0.8, 1]\n        },\n        src: \"/logo-gift.png\",\n        alt: \"logo\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"form-wrapper\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Login\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        className: \"login-form\",\n        onSubmit: handleSubmit,\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"email\",\n          children: \"Email\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"email\",\n          placeholder: \"your.email@gmail.com\",\n          id: \"email\",\n          name: \"email\",\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"password\",\n          children: \"Password\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"password\",\n          placeholder: \"*********\",\n          id: \"password\",\n          name: \"password\",\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(motion.button, {\n          className: \"l-btn\",\n          whileHover: {\n            scale: 1.2\n          },\n          type: \"submit\",\n          children: \"Login\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 9\n      }, this), errorMessage && /*#__PURE__*/_jsxDEV(\"p\", {\n        style: {\n          color: \"darkred\",\n          marginTop: \"10px\"\n        },\n        children: errorMessage\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        style: {\n          color: \"Tomato\"\n        },\n        children: [\"Forgot Password? \", /*#__PURE__*/_jsxDEV(NavLink, {\n          to: \"/reset-password\",\n          children: \"Click Here!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 28\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(motion.p, {\n        whileHover: {\n          scale: 1.2\n        },\n        children: [\"Don't have an account? Register \", \" \", /*#__PURE__*/_jsxDEV(NavLink, {\n          to: \"/register\",\n          className: \"linkin\",\n          children: [\" Here!\", \" \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(Login1, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 44,\n    columnNumber: 5\n  }, this);\n};\n_s(Login, \"yRL7I7FiH4cB0mNHFYm3Sa/rbDU=\", false, function () {\n  return [useNavigate];\n});\n_c = Login;\nexport default Login;\nvar _c;\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["React","useState","useContext","NavLink","useNavigate","axios","Login1","UserContext","motion","jsxDEV","_jsxDEV","Login","_s","setAuthenticated","setName","setUserId","setEmail","setAvatar","errorMessage","setErrorMessage","navigate","handleSubmit","e","preventDefault","credentials","i","target","elements","length","name","value","post","process","env","REACT_APP_BE_URL","then","res","localStorage","setItem","JSON","stringify","data","token","reset","userId","email","avatar","catch","err","response","className","children","img","animate","scale","rotate","transition","duration","ease","times","src","alt","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","htmlFor","type","placeholder","id","required","button","whileHover","style","color","marginTop","to","p","_c","$RefreshReg$"],"sources":["/home/user/Desktop/exercises_in_class/20230811/final-project_team3/client/src/components/Login.jsx"],"sourcesContent":["import React, { useState, useContext } from \"react\";\nimport { NavLink, useNavigate } from \"react-router-dom\";\nimport axios from \"axios\";\nimport \"../Form.css\";\nimport Login1 from \"./GoogleLogin\";\nimport UserContext from \"./UserContext\";\nimport { motion } from \"framer-motion\";\n\n\nconst Login = () => {\n  const [{ setAuthenticated }, { setName }, { setUserId }, { setEmail }, {setAvatar}] =\n    useContext(UserContext);\n  const [errorMessage, setErrorMessage] = useState(\"\");\n  const navigate = useNavigate();\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n\n    const credentials = {};\n\n    for (let i = 0; i < e.target.elements.length - 1; i++) {\n      credentials[e.target.elements[i].name] = e.target.elements[i].value;\n    }\n\n    axios\n      .post(`${process.env.REACT_APP_BE_URL}/api/user/login`, credentials)\n      .then((res) => {\n        localStorage.setItem(\"my-app-token\", JSON.stringify(res.data.token));\n        e.target.reset();\n\n        setAuthenticated(true);\n        setName(res.data.name);\n        setUserId(res.data.userId);\n        setEmail(res.data.email);\n        res.data.avatar? setAvatar(res.data.avatar) : setAvatar(\"https://cdn.pixabay.com/photo/2016/08/08/09/17/avatar-1577909_1280.png\") \n        navigate(\"/home\");\n      })\n      .catch((err) => {\n        setErrorMessage(err.response.data);\n      });\n  };\n\n  return (\n    <div className=\"form-container\">\n        <div>\n        <motion.img\n          className=\"logo\"\n          animate={{\n            scale: [1, 1, 1, 1, 1],\n            rotate: [0, 0, 180, 180, 0],\n          }}\n          transition={{\n            duration: 2,\n            ease: \"easeInOut\",\n            times: [0, 0.2, 0.5, 0.8, 1],\n          }}\n          src=\"/logo-gift.png\"\n          alt=\"logo\"\n        />\n      </div>\n      <div className=\"form-wrapper\">\n        <h2>Login</h2>\n        <form className=\"login-form\" onSubmit={handleSubmit}>\n          <label htmlFor=\"email\">Email</label>\n          <input\n            type=\"email\"\n            placeholder=\"your.email@gmail.com\"\n            id=\"email\"\n            name=\"email\"\n            required\n          ></input>\n          <hr />\n          <label htmlFor=\"password\">Password</label>\n          <input\n            type=\"password\"\n            placeholder=\"*********\"\n            id=\"password\"\n            name=\"password\"\n            required\n          ></input>\n          <hr />\n\n          <motion.button\n          className=\"l-btn\"\n          whileHover={{ scale: 1.2 }}\n          type=\"submit\"\n        >\n          Login\n        </motion.button>\n        </form>\n\n        {errorMessage && (\n          <p style={{ color: \"darkred\", marginTop: \"10px\" }}>{errorMessage}</p>\n        )}\n        <br />\n        <p style={{ color: \"Tomato\" }}>\n          Forgot Password? <NavLink to=\"/reset-password\">Click Here!</NavLink>\n        </p>\n        <br />\n        <motion.p whileHover={{ scale: 1.2 }}>\n          Don't have an account? Register {\" \"}\n          <NavLink to=\"/register\" className=\"linkin\"> Here!{\" \"}</NavLink>\n        </motion.p>\n      \n      </div>\n        <hr/>\n      <div>\n        <Login1 />\n      </div>\n    </div>\n  );\n};\n\nexport default Login;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}